{% extends 'base.html' %}
{% block title %}TaleTap - Discover Amazing Stories & Free Novels Online{% endblock %}
{% block meta_description %}Read thousands of free novels online. Fantasy, Romance, Sci-Fi, Mystery & more. Join TaleTap's community of readers and discover your next favorite story today!{% endblock %}
{% block meta_keywords %}free novels online, fantasy books, romance novels, sci-fi stories, mystery books, thriller novels, free reading, online books, web novels, digital reading{% endblock %}

{% block head %}
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "TaleTap",
    "description": "Discover and read amazing novels for free. Fantasy, Romance, Sci-Fi, Mystery and more genres available.",
    "url": "https://taletap.org",
    "potentialAction": {
        "@type": "SearchAction",
        "target": "https://taletap.org/search?q={search_term_string}",
        "query-input": "required name=search_term_string"
    },
    "publisher": {
        "@type": "Organization",
        "name": "TaleTap",
        "url": "https://taletap.org"
    },
    "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD",
        "description": "Free access to thousands of novels"
    }
}
</script>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="relative overflow-hidden bg-gradient-to-br from-primary-50 via-white to-accent-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-20 mb-16">
    <div class="absolute inset-0">
        <div class="absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23f1f5f9" fill-opacity="0.4"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] dark:bg-[url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23374151" fill-opacity="0.1"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')]"></div>
        <div class="absolute top-0 right-0 w-72 h-72 bg-primary-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse-subtle"></div>
        <div class="absolute bottom-0 left-0 w-72 h-72 bg-accent-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse-subtle" style="animation-delay: 1s;"></div>
    </div>

    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center">
            <h1 class="text-4xl md:text-6xl font-bold text-gray-900 dark:text-white mb-6 animate-slide-up">
                Discover Your Next
                <span class="gradient-text block">Amazing Story</span>
            </h1>
            <p class="text-xl md:text-2xl text-gray-600 dark:text-gray-300 mb-8 max-w-3xl mx-auto leading-relaxed animate-slide-up" style="animation-delay: 0.2s;">
                Dive into thousands of free novels spanning Fantasy, Romance, Sci-Fi, Mystery, and more. Join our community of passionate readers today.
            </p>

            <!-- Search Bar -->
            <div class="max-w-md mx-auto mb-8 animate-slide-up" style="animation-delay: 0.4s;">
                <div class="relative">
                    <input type="text" placeholder="Search novels, authors, genres..."
                           class="w-full px-6 py-4 text-lg rounded-full border border-gray-300 dark:border-gray-600 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent shadow-lg">
                    <button class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-primary-600 hover:bg-primary-700 text-white p-3 rounded-full transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- CTA Buttons -->
            <div class="flex flex-col sm:flex-row gap-4 justify-center animate-slide-up" style="animation-delay: 0.6s;">
                <a href="#featured-novels" class="inline-flex items-center justify-center px-8 py-4 text-lg font-semibold text-white bg-primary-600 hover:bg-primary-700 rounded-full transition-all duration-300 hover-lift shadow-lg">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                    </svg>
                    Start Reading
                </a>
                {% if not current_user.is_authenticated %}
                <a href="{{ url_for('register') }}" class="inline-flex items-center justify-center px-8 py-4 text-lg font-semibold text-primary-600 bg-white hover:bg-gray-50 border border-primary-600 rounded-full transition-all duration-300 hover-lift shadow-lg">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                    </svg>
                    Join Free
                </a>
                {% endif %}
            </div>

            <!-- Stats -->
            <div class="grid grid-cols-3 gap-8 max-w-2xl mx-auto mt-16 animate-slide-up" style="animation-delay: 0.8s;">
                <div class="text-center">
                    <div class="text-3xl font-bold text-primary-600 dark:text-primary-400">1000+</div>
                    <div class="text-sm text-gray-600 dark:text-gray-400">Free Novels</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-primary-600 dark:text-primary-400">50K+</div>
                    <div class="text-sm text-gray-600 dark:text-gray-400">Readers</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-primary-600 dark:text-primary-400">10+</div>
                    <div class="text-sm text-gray-600 dark:text-gray-400">Genres</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- AdSense Banner Ad -->
<div class="ad-container mb-8">

</div>

<!-- Genre Categories -->
<section class="mb-16">
    <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">Explore by Genre</h2>
        <p class="text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">Discover your perfect story across our diverse collection of genres</p>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8">
        {% set genres = [
            {'name': 'Fantasy', 'icon': 'üêâ', 'color': 'from-purple-400 to-purple-600', 'count': '250+', 'description': 'Epic adventures and magical worlds'},
            {'name': 'Romance', 'icon': 'üíï', 'color': 'from-pink-400 to-pink-600', 'count': '180+', 'description': 'Love stories and heartwarming tales'},
            {'name': 'Sci-Fi', 'icon': 'üöÄ', 'color': 'from-blue-400 to-blue-600', 'count': '120+', 'description': 'Futuristic technology and space exploration'},
            {'name': 'Mystery', 'icon': 'üïµÔ∏è', 'color': 'from-gray-400 to-gray-600', 'count': '90+', 'description': 'Intriguing puzzles and detective stories'},
            {'name': 'Thriller', 'icon': '‚ö°', 'color': 'from-red-400 to-red-600', 'count': '85+', 'description': 'Heart-pounding suspense and action'}
        ] %}

        {% for genre in genres %}
        <a href="{{ url_for('category', category=genre.name) }}"
           class="group relative bg-gradient-to-r {{ genre.color }} rounded-xl p-6 text-white text-center hover-lift transition-all duration-300">
            <div class="text-4xl mb-3 animate-float">{{ genre.icon }}</div>
            <h3 class="text-lg font-semibold mb-1">{{ genre.name }}</h3>
            <p class="text-sm opacity-90 mb-2">{{ genre.count }} novels</p>
            <p class="text-xs opacity-75 hidden group-hover:block transition-all duration-300">{{ genre.description }}</p>
            <div class="absolute inset-0 bg-black/20 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
        </a>
        {% endfor %}
    </div>
</section>

<!-- Featured/Popular Novels Section -->
<section id="featured-novels" class="mb-16">
    {% if category %}
        <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">{{ category }} Novels</h2>
            <p class="text-lg text-gray-600 dark:text-gray-300">Discover amazing {{ category.lower() }} stories</p>
        </div>
    {% else %}
        <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">Featured Novels</h2>
            <p class="text-lg text-gray-600 dark:text-gray-300">Hand-picked stories from our collection</p>
        </div>
    {% endif %}

    {% if novels %}
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            {% for novel in novels %}
            <article class="novel-card group bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden hover-lift transition-all duration-300 border border-gray-200 dark:border-gray-700">
                <div class="relative overflow-hidden">
                    {% if novel.cover_image %}
                    <img src="{{ url_for('static', filename='img/' + novel.cover_image) }}"
                         alt="{{ novel.title }} cover"
                         class="w-full h-64 sm:h-72 object-cover group-hover:scale-105 transition-transform duration-300"
                         loading="lazy">
                    {% else %}
                    <div class="w-full h-64 sm:h-72 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-600 flex items-center justify-center">
                        <svg class="w-16 h-16 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"/>
                        </svg>
                    </div>
                    {% endif %}
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    {% if novel.category %}
                    <div class="absolute top-3 left-3">
                        <span class="px-2 py-1 text-xs font-semibold text-white bg-primary-600 rounded-full">
                            {{ novel.category }}
                        </span>
                    </div>
                    {% endif %}
                </div>

                <div class="p-4">
                    <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-2 line-clamp-2 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors">
                        {{ novel.title }}
                    </h3>
                    <p class="text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-3">
                        {{ novel.description[:120] }}{% if novel.description|length > 120 %}...{% endif %}
                    </p>

                    <div class="flex items-center justify-between">
                        <div class="flex items-center text-sm text-gray-500 dark:text-gray-400">
                            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                            </svg>
                            {{ novel.chapters|length or 0 }} chapters
                        </div>
                        <a href="{{ url_for('novel', novel_id=novel.id) }}"
                           class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors group-hover:shadow-lg">
                            Read Now
                            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </article>
            {% endfor %}
        </div>

        <!-- Load More Button -->
        <div class="text-center mt-12">
            <button class="inline-flex items-center px-8 py-3 text-lg font-medium text-primary-600 bg-white dark:bg-gray-800 border-2 border-primary-600 rounded-full hover:bg-primary-600 hover:text-white transition-all duration-300 shadow-lg hover-lift">
                Load More Novels
                <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/>
                </svg>
            </button>
        </div>
    {% else %}
        <!-- Empty State -->
        <div class="text-center py-16">
            <div class="w-24 h-24 mx-auto mb-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center">
                <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                </svg>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">No {{ category or 'novels' }} available</h3>
            <p class="text-gray-600 dark:text-gray-300 mb-6">Check back soon for new additions to our collection!</p>
            <a href="{{ url_for('index') }}" class="inline-flex items-center px-6 py-3 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors">
                Browse All Novels
                <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </a>
        </div>
    {% endif %}
</section>

<!-- AdSense In-Article Ad -->
<div class="ad-container">

</div>

<!-- Newsletter Signup -->
<section class="bg-gradient-to-r from-primary-600 to-accent-600 rounded-2xl p-8 md:p-12 text-center text-white mb-16">
    <h2 class="text-2xl md:text-3xl font-bold mb-4">Never Miss a Great Story</h2>
    <p class="text-lg mb-8 opacity-90 max-w-2xl mx-auto">Get notified about new releases, featured novels, and exclusive content from your favorite genres.</p>

    <form class="max-w-md mx-auto flex gap-3">
        <input type="email" placeholder="Enter your email address"
               class="flex-1 px-4 py-3 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-white/50">
        <button type="submit" class="px-6 py-3 bg-white text-primary-600 font-semibold rounded-lg hover:bg-gray-100 transition-colors">
            Subscribe
        </button>
    </form>

    <p class="text-sm mt-4 opacity-75">No spam, unsubscribe anytime. Read our <a href="{{ url_for('privacy_policy') }}" class="underline hover:no-underline">Privacy Policy</a>.</p>
</section>

<!-- Reading Tips/Benefits -->
<section class="grid md:grid-cols-3 gap-8 mb-16">
    <div class="text-center p-6">
        <div class="w-16 h-16 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-3">Read Anytime</h3>
        <p class="text-gray-600 dark:text-gray-300">Access thousands of novels 24/7 from any device. Perfect for commutes, breaks, or bedtime reading.</p>
    </div>

    <div class="text-center p-6">
        <div class="w-16 h-16 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
            </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-3">Completely Free</h3>
        <p class="text-gray-600 dark:text-gray-300">Enjoy unlimited reading without subscription fees. All our novels are free to read from start to finish.</p>
    </div>

    <div class="text-center p-6">
        <div class="w-16 h-16 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
            </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-3">Join Community</h3>
        <p class="text-gray-600 dark:text-gray-300">Connect with fellow readers, leave reviews, and discover recommendations from our vibrant community.</p>
    </div>
</section>

<!-- SEO Content Section -->
<section class="bg-white dark:bg-gray-800 rounded-2xl p-8 md:p-12 mb-16">
    <div class="max-w-4xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-8 text-center">Why Choose TaleTap for Your Reading Journey?</h2>
        
        <div class="grid md:grid-cols-2 gap-8">
            <div>
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Extensive Library of Free Novels</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-4">
                    Discover thousands of carefully curated novels across multiple genres. From epic fantasy adventures to heartwarming romance stories, 
                    our collection offers something for every reader. All novels are completely free to read, with no hidden fees or subscription requirements.
                </p>
                <p class="text-gray-600 dark:text-gray-300">
                    Our platform features works from both established and emerging authors, ensuring a diverse range of storytelling styles and perspectives. 
                    Whether you're looking for a quick read or an epic saga, TaleTap has you covered.
                </p>
            </div>
            
            <div>
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Optimized Reading Experience</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-4">
                    Enjoy a seamless reading experience designed specifically for digital novel consumption. Our responsive design works perfectly on 
                    desktop, tablet, and mobile devices, allowing you to read anywhere, anytime.
                </p>
                <p class="text-gray-600 dark:text-gray-300">
                    Features like reading progress tracking, customizable font sizes, and dark mode support ensure maximum comfort during your reading sessions. 
                    Our clean, distraction-free interface lets you focus on the story.
                </p>
            </div>
        </div>
        
        <div class="mt-8 grid md:grid-cols-3 gap-6">
            <div class="text-center p-4">
                <div class="w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center mx-auto mb-3">
                    <svg class="w-6 h-6 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                </div>
                <h4 class="font-semibold text-gray-900 dark:text-white mb-2">No Registration Required</h4>
                <p class="text-sm text-gray-600 dark:text-gray-300">Start reading immediately without creating an account</p>
            </div>
            
            <div class="text-center p-4">
                <div class="w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center mx-auto mb-3">
                    <svg class="w-6 h-6 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                    </svg>
                </div>
                <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Fast Loading</h4>
                <p class="text-sm text-gray-600 dark:text-gray-300">Optimized for quick page loads and smooth navigation</p>
            </div>
            
            <div class="text-center p-4">
                <div class="w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center mx-auto mb-3">
                    <svg class="w-6 h-6 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                    </svg>
                </div>
                <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Secure & Private</h4>
                <p class="text-sm text-gray-600 dark:text-gray-300">Your reading habits and data are protected</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}